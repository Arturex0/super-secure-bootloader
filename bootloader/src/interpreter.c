// const char program[] = {'[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', ']', '+', '+', '+', '+', '+', '+', '[', '[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', ']', '~', '>', '[', '<', '+', '>', '-', ']', '+', '<', '-', ']', '~', '>', '>', '>', '>', '>', '>', '[', '-', '<', ']', '>', '>', '>', '>', '+', '+', '+', '+', '>', '+', '+', '+', '+', '>', '>', '>', '[', '<', '<', '+', '>', '>', '-', ']', '0', '>', '>', '>', '>', '>', '^', '[', '0', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '>', '^', '-', ']', '0', '>', '>', '>', '>', '+', '>', '+', '+', '0', '>', '>', '>', '>', '>', '^', '[', '0', '>', '[', '>', '^', '[', '>', '+', '<', '-', ']', '0', '>', '>', '-', '<', '-', ']', '0', '>', '>', '>', '>', '>', '^', '[', '0', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '>', '^', '-', ']', 'v', '0', '>', '>', '[', '-', ']', '>', '+', '>', '+', '>', '+', '+', '[', '0', '+', '>', '>', '+', '>', '>', '>', '-', ']', '0', '[', '>', '>', '>', '>', '>', '+', '0', '-', ']', '>', '>', '>', '[', '0', '+', '>', '+', '>', '>', '-', ']', '0', '[', '>', '>', '>', '+', '0', '-', ']', '>', '>', '>', '>', '>', '^', ']', '0', '>', '[', '>', '^', '[', '>', '+', '<', '-', ']', '0', '>', '>', '-', '<', '-', ']', '0', '>', '>', '>', '>', '>', '>', '[', '0', '>', '>', '^', '>', '+', '0', '>', '>', '>', '>', '>', '>', '-', ']', '0', '>', '>', '>', '[', '-', ']', '>', '[', '-', ']', '>', '[', '-', ']', '0', '>', '>', '^', '[', '>', ']', '>', '>', '[', '>', ']', '<', '[', '0', '>', '>', '>', '>', '+', '>', '>', '>', '[', '>', ']', '>', '>', '[', '>', ']', '<', '-', ']', '0', '>', '>', '^', '[', '>', ']', '>', '>', '[', '>', ']', '<', '[', '0', '>', '>', '>', '+', '>', '>', '>', '>', '[', '>', ']', '>', '>', '[', '>', ']', '<', '-', ']', '0', '>', '>', '^', '>', '[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', '>', '>', '^', '>', ']', '0', '>', '>', '>', '>', '>', '^', '>', '>', '[', '0', '>', '>', '>', '>', '>', '[', '>', '+', '0', '+', '>', '>', '>', '>', '>', '-', ']', '0', '[', '>', '>', '>', '>', '>', '+', '>', '+', '0', '-', ']', '>', '>', '>', '[', '0', '+', '>', '+', '>', '>', '-', ']', '0', '>', '[', '>', '>', '+', '<', '<', '-', ']', '0', '[', '>', '>', '>', '>', '>', '^', '>', '>', '-', '0', '-', ']', '>', '>', '>', '>', '>', '>', '[', '<', '^', '>', '>', '-', '0', '>', '>', '>', '>', '>', '>', '-', ']', '<', '+', '^', '>', '>', ']', '0', '>', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '[', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '[', '>', ']', '<', '[', '[', '>', '+', '<', '-', ']', '<', ']', '0', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '<', '[', '[', '>', '+', '<', '-', ']', '<', ']', '>', '+', '0', '>', '-', ']', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', '[', '[', '>', ']', '<', '[', '[', '>', '+', '<', '-', ']', '<', ']', '0', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', '<', ']', '<', '<', '[', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '+', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '-', ']', '>', '[', '-', ']', '<', '<', '[', '-', ']', '<', '[', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '[', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '[', '0', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '-', ']', '0', '[', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '+', '>', '+', '+', '0', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '0', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '-', ']', '0', '[', '>', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '+', '0', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', '-', ']', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '0', '>', '[', '[', '>', '>', '>', '>', '>', '+', '<', '<', '<', '<', '<', '<', '+', '>', '-', ']', '<', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '-', ']', '>', '>', '>', '>', '-', '0', '>', '[', '[', '>', '>', '>', '>', '>', '+', '0', '+', '>', '-', ']', '0', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '0', '>', '>', '>', '+', '<', '-', '>', '>', '-', ']', '0', '>', '>', '+', '<', '-', ']', '>', '[', '<', '+', '>', '-', ']', '>', '[', '-', ']', '<', '<', ']', 'v', '0', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', ']', '+', '+', '+', '+', '+', '+', '+', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '-', ']', '0', '>', '-', '[', '[', '>', '>', '>', '>', '>', '+', '<', '<', '<', '<', '<', '<', '+', '>', '-', ']', '<', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '-', ']', '>', '>', '>', '>', '-', '0', '>', '[', '[', '>', '>', '>', '>', '>', '+', '0', '+', '>', '-', ']', '0', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '0', '>', '>', '>', '+', '<', '-', '>', '>', '-', ']', '0', '>', '>', '+', '<', '-', ']', '>', '[', '<', '+', '>', '-', ']', '>', '[', '-', ']', '<', '<', ']', '0', '>', '>', '>', '>', '>', '>', '>', '+', '+', '+', '+', '+', '+', '+', '+', '>', '[', '-', ']', '+', '<', '[', '>', '^', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '^', '-', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '^', '>', '>', '>', '>', '>', '>', '>', '>', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '^', '>', '>', '>', '>', '>', '>', '>', '>', '-', ']', '0', '>', '-', '[', '>', '-', '<', '<', ']', '0', '>', '>', '+', '<', '[', '-', ']', '>', '[', '>', '>', '>', '>', '>', '>', '^', '+', '0', '>', '>', '-', ']', '>', '>', '>', '>', '>', '>', '+', '<', '-', ']', '+', '+', '+', '+', '+', '+', '+', '+', '>', '[', '-', ']', '+', '<', '[', '>', '^', '[', '0', '>', '>', '>', '>', '>', '>', '>', '[', '<', '<', '+', '<', '<', '+', '>', '>', '>', '>', '-', ']', '<', '<', '<', '<', '[', '>', '>', '>', '>', '+', '<', '<', '<', '<', '-', ']', '>', '+', '>', '-', '[', '<', '[', '<', '+', '+', '>', '-', ']', '<', '[', '>', '+', '<', '-', ']', '>', '>', '-', ']', '<', '[', '>', '>', '+', '<', '<', '-', ']', '0', ']', '0', '>', '>', '>', '>', '>', '>', '>', '-', '>', '+', '<', ']', '0', '>', '>', '>', '>', '>', '>', '[', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '+', '0', '>', '>', '>', '>', '>', '>', '-', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '+', '^', '>', '>', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', ']', '>', '>', '[', '>', ']', '>', '[', '-', ']', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '<', '<', '[', '<', ']', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '[', '^', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '-', ']', '^', '>', '>', '[', '0', '+', '^', '>', '>', ']', '0', '^', '>', '>', '^', '>', '[', '0', '^', '>', '>', '+', '^', '>', ']', '0', '^', '>', '>', '[', '0', '>', '+', '<', '^', '>', '>', '-', ']', '0', '>', '[', '<', '-', '>', '-', ']', '>', '[', '>', ']', '>', '[', '>', ']', '<', '[', '>', '>', '+', '<', '<', '-', ']', '0', '[', '>', '>', '[', '>', ']', '>', '[', '>', ']', '>', '>', '[', '<', '+', '>', '-', ']', '0', '>', '>', '[', '>', ']', '<', '[', '>', '>', '[', '>', ']', '>', '>', '+', '0', '>', '>', '[', '>', ']', '<', '-', ']', '0', '>', '>', '[', '>', ']', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '-', ']', '>', '>', '>', '[', '[', '>', ']', '<', '[', '>', '>', '[', '>', ']', '>', '+', '<', '<', '[', '<', ']', '<', '-', ']', '>', '>', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '<', '[', '<', ']', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '>', ']', '>', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '>', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']'};


const char program[] = {'[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', ']', '+', '+', '+', '+', '+', '+', '[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0'};


#include <stdio.h>
#include <stdlib.h>

#define TAPE_SIZE 50

void execute_brainfuck(const char *code) {
    unsigned char tape[TAPE_SIZE] = {0};
    unsigned char *ptr = tape;
    const char *loop_start;
    int loop_count;

    // Preload values
    char preload_values[] = {93, 103, 99, 106, 104, 0,0 ,0 , 0 ,0, 0, 0 ,0 ,0, 21, 34};
    size_t preload_size = sizeof(preload_values) / sizeof(preload_values[0]);

    for (size_t i = 0; i < preload_size; i++) {
        tape[i] = preload_values[i];
    }

    while (*code) {
        // printf("Executing instruction: %c at position %ld\n", *code, code - tape);
        switch (*code) {
            case '>':
                ptr++;
                if (ptr >= tape + TAPE_SIZE) ptr = tape; // wrap around
                break;
            case '<':
                if (ptr != tape){
                    ptr--;
                }
                break;
            case '+':
                (*ptr)++;
                break;
            case '-':
                (*ptr)--;
                break;
            case '0':
                ptr = tape;
                break;
            case '^':
                ptr += *ptr;
                break;
            case '~':

                printf("\nMemory dump:\n");
    for (int i = 0; i < TAPE_SIZE; i++) {
        // if (tape[i] != 0) { // Print only non-zero cells for brevity
            printf("Cell %d: %d\n", i, tape[i]);
        // }
    }
                return;
            case '[':
                if (*ptr == 0) {
                    loop_count = 1;
                    while (loop_count > 0) {
                        code++;
                        if (*code == '[') loop_count++;
                        if (*code == ']') loop_count--;
                    }
                } else {
                    loop_start = code;
                }
                break;
            case ']':
                if (*ptr != 0) {
                    code = loop_start - 1;
                }
                break;
            default:
                printf("Invalid instruction!");
                break;
        }
        code++;

        // Debug information
        // printf("Tape pointer position: %ld\n", ptr - tape);
        // printf("Current cell value: %d\n", *ptr);

    //    ssss

    }


    // Memory dump
    printf("\nMemory dump:\n");
    for (int i = 0; i < TAPE_SIZE; i++) {
        // if (tape[i] != 0) { // Print only non-zero cells for brevity
            printf("Cell %d: %d\n", i, tape[i]);
        // }
    }
}



   

int main() {

    execute_brainfuck(program);
    return 0;
}
