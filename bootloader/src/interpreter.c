const char program[] = {'[', '>', ']', '>', '[', '-', '>', ']', '>', '>', '>', '>', '>', '>', '>', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '>', '+', '+', '+', '+', '+', '+', '+', '0', '[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', ']', '+', '+', '+', '+', '+', '+', '[', '[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', ']', '>', '[', '<', '+', '>', '-', ']', '+', '<', '-', ']', '0', '>', '>', '>', '>', '>', '>', '[', '-', '<', ']', '>', '>', '>', '>', '+', '+', '+', '+', '>', '+', '+', '+', '+', '>', '>', '>', '[', '<', '<', '+', '>', '>', '-', ']', '0', '>', '>', '>', '>', '>', '^', '[', '0', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '>', '^', '-', ']', '0', '>', '>', '>', '>', '+', '>', '+', '+', '0', '>', '>', '>', '>', '>', '^', '[', '0', '>', '[', '>', '^', '[', '>', '+', '<', '-', ']', '0', '>', '>', '-', '<', '-', ']', '0', '>', '>', '>', '>', '>', '^', '[', '0', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '>', '^', '-', ']', 'v', '0', '>', '>', '[', '-', ']', '>', '+', '>', '+', '>', '+', '+', '[', '0', '+', '>', '>', '+', '>', '>', '>', '-', ']', '0', '[', '>', '>', '>', '>', '>', '+', '0', '-', ']', '>', '>', '>', '[', '0', '+', '>', '+', '>', '>', '-', ']', '0', '[', '>', '>', '>', '+', '0', '-', ']', '>', '>', '>', '>', '>', '^', ']', '0', '>', '[', '>', '^', '[', '>', '+', '<', '-', ']', '0', '>', '>', '-', '<', '-', ']', '0', '>', '>', '>', '>', '>', '>', '[', '0', '>', '>', '^', '>', '+', '0', '>', '>', '>', '>', '>', '>', '-', ']', '0', '>', '>', '>', '[', '-', ']', '>', '[', '-', ']', '>', '[', '-', ']', '0', '>', '>', '^', '[', '>', ']', '>', '>', '[', '>', ']', '<', '[', '0', '>', '>', '>', '>', '+', '>', '>', '>', '[', '>', ']', '>', '>', '[', '>', ']', '<', '-', ']', '0', '>', '>', '^', '[', '>', ']', '>', '>', '[', '>', ']', '<', '[', '0', '>', '>', '>', '+', '>', '>', '>', '>', '[', '>', ']', '>', '>', '[', '>', ']', '<', '-', ']', '0', '>', '>', '^', '>', '[', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '0', '>', '>', '^', '>', ']', '0', '>', '>', '>', '>', '>', '^', '>', '>', '[', '0', '>', '>', '>', '>', '>', '[', '>', '+', '0', '+', '>', '>', '>', '>', '>', '-', ']', '0', '[', '>', '>', '>', '>', '>', '+', '>', '+', '0', '-', ']', '>', '>', '>', '[', '0', '+', '>', '+', '>', '>', '-', ']', '0', '>', '[', '>', '>', '+', '<', '<', '-', ']', '0', '[', '>', '>', '>', '>', '>', '^', '>', '>', '-', '0', '-', ']', '>', '>', '>', '>', '>', '>', '[', '<', '^', '>', '>', '-', '0', '>', '>', '>', '>', '>', '>', '-', ']', '<', '+', '^', '>', '>', ']', '0', '>', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '[', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '[', '>', ']', '<', '[', '[', '>', '+', '<', '-', ']', '<', ']', '0', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '<', '[', '[', '>', '+', '<', '-', ']', '<', ']', '>', '+', '0', '>', '-', ']', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', '[', '[', '>', ']', '<', '[', '[', '>', '+', '<', '-', ']', '<', ']', '0', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', '<', ']', '<', '<', '[', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '+', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '<', '-', ']', '>', '[', '-', ']', '<', '<', '[', '-', ']', '<', '[', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '[', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '[', '0', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '-', ']', '0', '[', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '+', '>', '+', '+', '0', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '0', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '-', ']', '0', '[', '>', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '+', '0', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '>', '-', ']', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '0', '>', '[', '[', '>', '>', '>', '>', '>', '+', '<', '<', '<', '<', '<', '<', '+', '>', '-', ']', '<', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '-', ']', '>', '>', '>', '>', '-', '0', '>', '[', '[', '>', '>', '>', '>', '>', '+', '0', '+', '>', '-', ']', '0', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '0', '>', '>', '>', '+', '<', '-', '>', '>', '-', ']', '0', '>', '>', '+', '<', '-', ']', '>', '[', '<', '+', '>', '-', ']', '>', '[', '-', ']', '<', '<', ']', 'v', '0', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', ']', '+', '+', '+', '+', '+', '+', '+', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '-', ']', '0', '>', '-', '[', '[', '>', '>', '>', '>', '>', '+', '<', '<', '<', '<', '<', '<', '+', '>', '-', ']', '<', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '>', '>', '>', '>', '^', '+', '0', '>', '>', '>', '>', '-', ']', '>', '>', '>', '>', '-', '0', '>', '[', '[', '>', '>', '>', '>', '>', '+', '0', '+', '>', '-', ']', '0', '[', '>', '+', '<', '-', ']', '>', '>', '>', '>', '+', '>', '>', '[', '-', '[', '-', '<', ']', '>', ']', '<', '<', '[', '-', '>', ']', '0', '>', '>', '>', '>', '[', '0', '>', '>', '>', '+', '<', '-', '>', '>', '-', ']', '0', '>', '>', '+', '<', '-', ']', '>', '[', '<', '+', '>', '-', ']', '>', '[', '-', ']', '<', '<', ']', '0', '>', '>', '>', '>', '>', '>', '>', '+', '+', '+', '+', '+', '+', '+', '+', '>', '[', '-', ']', '+', '<', '[', '>', '^', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '^', '-', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '^', '>', '>', '>', '>', '>', '>', '>', '>', '[', '0', '>', '+', '>', '>', '>', '>', '>', '>', '>', '^', '>', '>', '>', '>', '>', '>', '>', '>', '-', ']', '0', '>', '-', '[', '>', '-', '<', '<', ']', '0', '>', '>', '+', '<', '[', '-', ']', '>', '[', '>', '>', '>', '>', '>', '>', '^', '+', '0', '>', '>', '-', ']', '>', '>', '>', '>', '>', '>', '+', '<', '-', ']', '+', '+', '+', '+', '+', '+', '+', '+', '>', '[', '-', ']', '+', '<', '[', '>', '^', '[', '0', '>', '>', '>', '>', '>', '>', '>', '[', '<', '<', '+', '<', '<', '+', '>', '>', '>', '>', '-', ']', '<', '<', '<', '<', '[', '>', '>', '>', '>', '+', '<', '<', '<', '<', '-', ']', '>', '+', '>', '-', '[', '<', '[', '<', '+', '+', '>', '-', ']', '<', '[', '>', '+', '<', '-', ']', '>', '>', '-', ']', '<', '[', '>', '>', '+', '<', '<', '-', ']', '0', ']', '0', '>', '>', '>', '>', '>', '>', '>', '-', '>', '+', '<', ']', '0', '>', '>', '>', '>', '>', '>', '[', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '^', '>', '>', '+', '0', '>', '>', '>', '>', '>', '>', '-', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '<', '[', '-', ']', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '>', ']', '>', '+', '^', '>', '>', ']', '0', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '>', '[', '-', ']', '>', '>', '[', '>', ']', '>', '[', '-', ']', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '<', '<', '[', '<', ']', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '+', '[', '^', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '-', ']', '^', '>', '>', '[', '0', '+', '^', '>', '>', ']', '0', '^', '>', '>', '^', '>', '[', '0', '^', '>', '>', '+', '^', '>', ']', '0', '^', '>', '>', '[', '0', '>', '+', '<', '^', '>', '>', '-', ']', '0', '>', '[', '<', '-', '>', '-', ']', '>', '[', '>', ']', '>', '[', '>', ']', '<', '[', '>', '>', '+', '<', '<', '-', ']', '0', '[', '>', '>', '[', '>', ']', '>', '[', '>', ']', '>', '>', '[', '<', '+', '>', '-', ']', '0', '>', '>', '[', '>', ']', '<', '[', '>', '>', '[', '>', ']', '>', '>', '+', '0', '>', '>', '[', '>', ']', '<', '-', ']', '0', '>', '>', '[', '>', ']', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '-', ']', '>', '>', '>', '[', '[', '>', ']', '<', '[', '>', '>', '[', '>', ']', '>', '+', '<', '<', '[', '<', ']', '<', '-', ']', '>', '>', '[', '>', ']', '<', '[', '>', '+', '<', '-', ']', '<', '[', '<', ']', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '>', ']', '>', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '>', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']', '0', '>', '[', '[', '<', '+', '>', '-', ']', '>', ']'};


#include <stdio.h>
#include <stdlib.h>

#define TAPE_SIZE 50
#define STACK_SIZE 100

void execute_brainfuck(const char *code) {
    unsigned char tape[TAPE_SIZE] = {0};
    unsigned char *ptr = tape;
    const char *loop_start;
    const char *loop_stack[STACK_SIZE];
    int loop_stack_index = 0;

    // Preload values
    char preload_values[] = {130, 72, 145, 80, 131, 74, 142, 91, 151, 82, 138, 65, 144, 65, 142, 88 };
    // char preload_values[] = {5, 3, 3, 3};
    size_t preload_size = sizeof(preload_values) / sizeof(preload_values[0]);

    for (size_t i = 0; i < preload_size; i++) {
        tape[i] = preload_values[i];
    }

    while (*code) {
        // printf("Executing instruction: %c", *code);
        switch (*code) {
            case '>':
                ptr++;
                if (ptr >= tape + TAPE_SIZE) ptr = tape; // wrap around
                break;
            case '<':
                if (ptr != tape){
                    ptr--;
                }
                break;
            case '+':
                (*ptr)++;
                break;
            case '-':
                (*ptr)--;
                break;
            case '0':
                ptr = tape;
                break;
            case '^':
                ptr += *ptr;
                break;
            case 'v':
                ptr -= *ptr;
                break;
            case '~':

                printf("\nMemory dump:\n");
    for (int i = 0; i < TAPE_SIZE; i++) {
        // if (tape[i] != 0) { // Print only non-zero cells for brevity
            printf("Cell %d: %d\n", i, tape[i]);
        // }
    }
                return;
                break;
            case '[':
                if (*ptr == 0) {
                    int loop_count = 1;
                    while (loop_count > 0) {
                        code++;
                        if (*code == '[') loop_count++;
                        if (*code == ']') loop_count--;
                    }
                } else {
                    loop_stack[loop_stack_index++] = code;
                }
                break;
            case ']':
                if (*ptr != 0) {
                    code = loop_stack[loop_stack_index - 1];
                } else {
                    loop_stack_index--;
                }
                break;
            default:
                printf("Invalid instruction!: %c", *code);
                break;
        }
        code++;

        // Debug information
        // printf("Tape pointer position: %ld\n", ptr - tape);
        // printf("Current cell value: %d\n", *ptr);



        


    }


    printf("[");
    for (int i = 0; i < TAPE_SIZE; i++) {
        printf("%d", tape[i]);
        if (i < TAPE_SIZE - 1) {
            printf(", ");
        }
    }
    printf("]\n");


    
}



   

int main() {

    execute_brainfuck(program);
    return 0;
}
